<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>WebGL Boilerplate</title>

		<style>
			html, body {
				background-color: #000000;
				margin: 0px;
				overflow: hidden;
				width: 100%;
				height: 100%;
			}
			canvas {
				width: 100%;
				height: 100%;
			}
		</style>
	</head>
	<body>
<audio>
  <source src="file:///" type="audio/mp3">
</audio>
		<canvas></canvas>
		<div id="info"></div>

		<script id="vs" type="x-shader/vertex">

   			attribute vec3 position;

   			void main() {

   				gl_Position = vec4( position, 1.0 );

   			}

   		</script>

   		<script id="fs" type="x-shader/fragment">

   			uniform float time;
				uniform sampler2D audio;
   			uniform vec2 resolution;

				float getProx(float x, float y){
					float fft = texture2D(audio, vec2(x, 0.0)).y;
					float ret = clamp(fft, 0.0, 1.0);
					return ret;

				}

   			void main( void ) {

   				vec2 position = gl_FragCoord.xy / resolution.xy;
   				//float red = abs( sin( position.x * position.y + time / 5.0 ) );
					//float red = abs( sin( audio[0] * audio[10] + time / 5.0 ) );
   				//float green = abs( sin( audio[0] * audio[10] + time / 4.0 ) );
   				//float blue = abs( sin( audio[0] * audio[10] + time / 3.0 ) );
					float heat = getProx(position.x, position.y);
					float red = heat/1.5;
					float green = heat/1.3;
					float blue = heat;
   				gl_FragColor = vec4( red, green, blue, 0.8 );

   			}

   		</script>

   		<script src="./app.js" ></script>

	</body>
</html>
